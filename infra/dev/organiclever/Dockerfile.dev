# Development Docker Image for Organic Lever Backend
# This image extends the base JDK image with Maven pre-installed
# to avoid reinstalling Maven on every container restart.

FROM eclipse-temurin:25-jdk-alpine

# Install Maven once during image build (not at runtime)
# This saves ~10-20 seconds on every 'docker compose up'
RUN apk add --no-cache maven

# Set working directory where source code will be mounted
WORKDIR /workspace

# Default command: Run Spring Boot with Maven in dev profile
# Note: docker-compose.yml may override this command
CMD ["mvn", "spring-boot:run", "-Dspring-boot.run.profiles=dev"]
